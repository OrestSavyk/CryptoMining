<div class="header marg-t">
  <div class="header-inner">
    <div class="header-wrapper">
      <mat-slide-toggle color="primary" [(ngModel)]="isNewCart"
        >New Cart!</mat-slide-toggle
      >
      <div class="top-form">
        <form
          class="admin-form"
          [formGroup]="cartForm"
          (ngSubmit)="isNewCart ? onAddCartTool() : onSaveEdit()"
        >
          <mat-form-field *ngFor="let input of formCard" appearance="outline">
            <mat-label>{{ input.label }}</mat-label>
            <input
              [type]="input.type"
              matInput
              [formControlName]="input.formControl"
            />
            <mat-hint>Hint</mat-hint>
          </mat-form-field>
          <mat-form-field>
            <mat-label>Choose a date</mat-label>
            <input matInput [matDatepicker]="picker" formControlName="date" />
            <mat-datepicker-toggle
              matSuffix
              [for]="picker"
            ></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
          </mat-form-field>
          <datalist id="available">
            <option value="In stock"></option>
            <option value="Sold out"></option>
          </datalist>
          <button
            mat-raised-button
            type="submit"
            class="btn-cart-add"
            *ngIf="!isNewCart"
          >
            Save edit
          </button>
          <button
            mat-raised-button
            type="submit"
            class="btn-cart-add"
            *ngIf="isNewCart"
          >
            Add
          </button>
        </form>
      </div>
      <h2>Tool Cards</h2>
      <div class="wrapper-table">
        <table
          mat-table
          [dataSource]="cardItem"
          class="mat-elevation-z8"
          matSort
          (matSortChange)="onTableSortChange($event)"
        >
          <ng-container matColumnDef="id">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by id"
            >
              Id
            </th>
            <td mat-cell *matCellDef="let element">{{ element.id }}</td>
          </ng-container>

          <ng-container matColumnDef="headname">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by headname"
            >
              Manufacturer
            </th>
            <td mat-cell *matCellDef="let element">{{ element.headname }}</td>
          </ng-container>

          <ng-container matColumnDef="name">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by name"
            >
              Name
            </th>
            <td mat-cell *matCellDef="let element">{{ element.name }}</td>
          </ng-container>

          <ng-container matColumnDef="hash">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by hash"
            >
              Hash
            </th>
            <td mat-cell *matCellDef="let element">{{ element.hash }}</td>
          </ng-container>

          <ng-container matColumnDef="power">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by power"
            >
              Power
            </th>
            <td mat-cell *matCellDef="let element">{{ element.power }}</td>
          </ng-container>

          <ng-container matColumnDef="date">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by date"
            >
              Date
            </th>
            <td mat-cell *matCellDef="let element">
              {{ element.date | date }}
            </td>
          </ng-container>

          <ng-container matColumnDef="algorithm">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by algorithm"
            >
              Algorithm
            </th>
            <td mat-cell *matCellDef="let element">{{ element.algorithm }}</td>
          </ng-container>

          <ng-container matColumnDef="size">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by size"
            >
              Size
            </th>
            <td mat-cell *matCellDef="let element">{{ element.size }}</td>
          </ng-container>

          <ng-container matColumnDef="weight">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by weight"
            >
              Weight
            </th>
            <td mat-cell *matCellDef="let element">{{ element.weight }}</td>
          </ng-container>

          <ng-container matColumnDef="price">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by price"
            >
              Price
            </th>
            <td mat-cell *matCellDef="let element">{{ element.price }}</td>
          </ng-container>

          <ng-container matColumnDef="availability">
            <th
              mat-header-cell
              *matHeaderCellDef
              mat-sort-header
              sortActionDescription="Sort by availability"
            >
              Availability
            </th>
            <td mat-cell *matCellDef="let element">
              {{ element.availability }}
            </td>
          </ng-container>
          <ng-container matColumnDef="edit">
            <th mat-header-cell *matHeaderCellDef>Edit</th>
            <td mat-cell *matCellDef="let element">
              <button class="btn-table-edit" (click)="editCurrentCart(element)">
                edit
              </button>
            </td>
          </ng-container>
          <ng-container matColumnDef="delete">
            <th mat-header-cell *matHeaderCellDef>Delete</th>
            <td mat-cell *matCellDef="let element">
              <button
                class="btn-table-delete"
                (click)="onDeleteCard(element.id)"
              >
                x
              </button>
            </td>
          </ng-container>
          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>
    </div>
  </div>
</div>
